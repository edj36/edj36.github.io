<!-- <html> -->
<head>
<base href="/">
<!-- Load the d3 library. -->
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="style/normalize.css">
<link rel="stylesheet" type="text/css" href="style/main.css">
<link rel="stylesheet" type="text/css" href="style/style.css">
<link href='http://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-80419417-1', 'auto');
  ga('send', 'pageview');

</script>
</head>

<body>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

<div class="nav">
<ul>
  <li class="nav_left">Updated December 6, 2016</li>
  <li><a class="nav_right" href="/" style="color: #95a5a6;">Home</a></li>
  <li><a class="nav_right" href="/interactive/" style="color: #95a5a6;"> Interactive Resume</a></li>
  <li><a class="nav_right" href="/blog/" style="color: #95a5a6;">Posts</a></li>
  <li><a class="nav_right" href="/contact/" style="color: #95a5a6;">Contact</a></li>
</ul>
</div>

<div class="content">

<h1> Eric Johnson</h1>
<div id="top-row">
	<div class="col">
		<h2>Jobs</h2>
		<p class="list-items"><strong><a href="http://www.srcinc.com/">SRC</a></strong></p>
		<p class="list-items">Software Engineering Intern</p>
		<!-- <p class="list-items"><em>government engineering work</em></p> -->
		<p class="list-items"><strong><a href="http://www.belleapps.me/">Belle Apps</a></strong></p>
		<p class="list-items">Mobile Developer</p>
		<!-- <p class="list-items"><em>contracting with Belle Apps</em></p> -->
		<p class="list-items"><strong><a href="http://startfast.net/">StartFast</a></strong></p>
		<p class="list-items">Software Engineering Intern</p>
		<!-- <p class="list-items"><em>spent the summer with start-ups</em></p> -->
	</div>
	<div class="col">
		<h2>Skills</h2>
		<p class="list-items">embedded programming</p>
		<p class="list-items">interactive data visualization</p>
    <p class="list-items">functional programming</p>
		<p class="list-items">web scraping</p>
		<p class="list-items">ios dev</p>
		<p class="list-items">android dev</p>
	</div>
	<div class="col">
		<h2>Languages</h2>
		<p class="list-items">python</p>
		<p class="list-items">java</p>
    <p class="list-items">ocaml</p>
		<p class="list-items">matlab</p>
		<p class="list-items">swift</p>
		<p class="list-items">javascript</p>
		<!--<p class="list-items">verilog</p>
    <p class="list-items">c</p> -->
	</div>
	<div class="col">
		<h2>Tools</h2>
		<p class="list-items">d3</p>
    <p class="list-items">arduino</p>
		<p class="list-items">ELK stack</p>
		<p class="list-items">FPGA</p>
		<p class="list-items">microprocessors</p>
		<p class="list-itmes">autodesk inventor</p>
	</div>
	<h2 class="underline">TIMELINE</h2>
	<div id="timeline"></div>
	<div id="detail"></div>
	<div id="legend"></div>
	<div>
		<p>My interactive resume was inspired by <a href="http://ritchiesking.com/">Ritchie</a>,
	an awesome writer/data viz specialist over at <a href="http://fivethirtyeight.com/">538</a>.</p>
	</div>
</div>

</div>


<script>
var timeline = d3.select("#timeline");
var divWidth = parseInt(timeline.style("width"), 10);
var divHeight = parseInt(timeline.style("height"), 10);

var detail = d3.select("#detail");
var detailWidth = parseInt(detail.style("width"), 10);
var detailHeight = parseInt(detail.style("height"), 10);

var selected = 23;

var margin = {top: 25, right: 50, bottom: 10, left: 100};

var width = divWidth - margin.left - margin.right;
var height = divHeight - margin.top - margin.bottom;

var svg = d3.select("#timeline").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  	.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

var desGroup = d3.select("#detail").append("svg")
	.attr("width",detailWidth)
	.attr("height",detailHeight)
	.attr("opacity",1);

var desDiv = desGroup.append("foreignObject")
	.attr("x",0)
	.attr("y",0)
	.attr("width",detailWidth)
	.attr("height",detailHeight)
  	.append("xhtml:div");

var parseDate = d3.time.format("%d-%b-%y").parse

var x = d3.time.scale()
    .range([0, width]);

var bumper = 12;

var y = d3.scale.ordinal()
	.domain(["a","b", "c", "d", "e","f","g", "h", "i", "j", "k"])
	.range([0,
		15,
		30,
		45,
		60,
		75,
		90,
		105,
		120,
		135,
		150]);

var axisPoints = [
	{year:"2014", date:"1-Jan-14"},
	{year:"15", date:"1-Jan-15"},
	{year:"16", date:"1-Jan-16"}
];

var textBumper = 5,
	lineBumper = 25;

svg.append("line")
	.attr("x1",-margin.left)
	.attr("x2",width)
	.attr("y1",y("f"))
	.attr("y2",y("f"))
	.attr("stroke", "#B3B3B3")
	.attr("stroke-width", 1);

svg.append("text")
	.attr("class","categoryLabels")
	.text("school")
	.attr("x",-margin.left + 32)
	.attr("y", (height/2) - bumper - 2);

svg.append("text")
	.attr("class","categoryLabels")
	.text("work")
	.attr("x",-margin.left + 32)
	.attr("y", (height/2) + bumper);

d3.csv("interactive/timeline.csv", function (error, data){

	data.forEach(function (d){
		d.beg = parseDate(d.beg)
		d.end = parseDate(d.end)
	});

	x.domain([
		d3.min(data, function (d) { return d.beg; }),
		d3.max(data, function (d) { return d.end; })
	]);

	svg.selectAll(".axis")
		.data(axisPoints)
	  	.enter().append("line")
	  	.attr("x1", function (d) { return x(parseDate(d.date)); })
		.attr("x2", function (d) { return x(parseDate(d.date)); })
		.attr("y1", -10)
		.attr("y2", height+10)
		.attr("stroke", "#E6E6E6")
		.attr("stroke-width", 1);

	svg.selectAll(".axisLabels")
		.data(axisPoints)
	  	.enter().append("text")
	  	.attr("class","axisLabels")
	  	.attr("x", function (d) { return x(parseDate(d.date)); })
	  	.attr("y", function (d, i) { return -15; })
	  	.attr("text-anchor","middle")
	  	.text(function (d) { return d.year; });

	svg.append("text")
		.attr("class","axisLabels")
		.text("pool")
		.attr("x", x(parseDate("31-May-14")))
		.attr("y", y("j") - 3);

	svg.append("text")
		.attr("class","axisLabels")
		.text("fall 14")
		.attr("x", x(parseDate("23-Aug-14")))
		.attr("y", y("engineering") - 3);

	svg.append("text")
		.attr("class","axisLabels")
		.text("spring 15")
		.attr("x", x(parseDate("23-Jan-15")))
		.attr("y", y("engineering") - 3);

	svg.append("text")
		.attr("class","axisLabels")
		.text("startfast")
		.attr("x", x(parseDate("31-May-15")))
		.attr("y", y("h") -3);

	svg.append("text")
		.attr("class","axisLabels")
		.text("pool")
		.attr("x", x(parseDate("31-May-15")))
		.attr("y", y("j") -3);

	svg.append("text")
		.attr("class","axisLabels")
		.text("fall 15")
		.attr("x", x(parseDate("23-Aug-15")))
		.attr("y", y("engineering") - 3);

	svg.append("text")
		.attr("class","axisLabels")
		.text("belle apps")
		.attr("x", x(parseDate("23-Dec-15")) + 6)
		.attr("y", y("i") - 3);

	svg.append("text")
		.attr("class","axisLabels")
		.text("spring 16")
		.attr("x", x(parseDate("25-Jan-16")))
		.attr("y", y("engineering") - 3);

	svg.append("text")
		.attr("class","axisLabels")
		.text("src")
		.attr("x", x(parseDate("31-May-16")))
		.attr("y", y("g") + 15);

	svg.append("text")
		.attr("class","axisLabels")
		.text("fall 16")
		.attr("x", x(parseDate("23-Aug-16")))
		.attr("y", y("engineering") - 3);


	var lines = svg.selectAll(".rect")
		.data(data)
	  	.enter().append("rect")
	  	.attr("class","rect")
	    .attr("x", function(d) { return x(d.beg); })
	    .attr("width", function(d) { return x(d.end)-x(d.beg); })
	    .attr("y", function(d) { return y(d.cat); })
	    .attr("height", 7 )
	    .attr("fill", function(d, i) {
	    	if (i==selected) {
	    		return "#000000";
	    	}
	    	else {
	    		return "" + d.color + "";
	    	}
		})
	    .attr("stroke", "white")
	    .on("click", function(d, i) {
	    	selected = i;
	    	update();
	    });

	var des = desDiv.selectAll(".div")
		.data(data)
	  	.enter().append("div")
	  	.html(function(d) { return d.des; })
	  	.attr("class", function(d, i) {
	  		if (i == selected) {
	  			return "shown";
	  		}
	  		else {
	  			return "hidden";
	  		}
	  	});

	var update = function() {
		lines.transition()
			.duration(400)
			.attr("fill",function(d,i){
				if (i === selected){
					return "#000000";
				}
				else{
					return "" + d.color + "";
				}
			});

		desGroup.transition()
			.duration(200)
			.attr("opacity",0)

		des.transition()
			.delay(200)
			.attr("class",function(d, i) {
				if (i==selected) {
					return "shown";
				}
				else {
					return "hidden";
				}
		});

		desGroup.transition()
			.delay(200)
			.duration(200)
			.attr("opacity",1);
	}
});

// legend stuff
var legend = d3.select("#legend");
var legWidth = parseInt(legend.style("width"), 10);
var legHeight = parseInt(legend.style("height"), 10);

var svg2 = d3.select("#legend").append("svg")
	.attr("width", legWidth)
    .attr("height", legHeight)
    .append("g");

var legendXScale = d3.scale.ordinal()
	.domain(["CS","ECE", "intro engineering", "liberal studies", "math","science","work"])
	.range([5,
		(legWidth/7)+5,
		((2*legWidth)/7)+5,
		((3*legWidth)/7)+5,
		((4*legWidth)/7)+5,
		((5*legWidth)/7)+5,
		((6*legWidth)/7)+5]);

d3.csv("interactive/legend.csv", function (error, data){

	var legItems = svg2.selectAll(".rect")
		.data(data)
	  	.enter().append("rect")
	  	.attr("class","rect")
	    .attr("x", function(d) { return legendXScale(d.label); })
	    .attr("width", function(d) { return (legWidth/7)-10; })
	    .attr("y", function(d) { return 25; })
	    .attr("height", 7)
	    .attr("fill", function(d) { return "" + d.color + ""; })
	    .attr("stroke", "white");

	var legLabels = svg2.selectAll(".axisLabels")
		.data(data)
	  	.enter().append("text")
	  	.attr("class","axisLabels")
	  	.attr("x", function (d) { return legendXScale(d.label); })
	  	.attr("y", function(d) { return 20; })
	  	.attr("text-anchor","left")
	  	.text(function (d) { return d.label; });

});

</script>
</body>

<!--/html>-->
